/*
 * --------------- By Display:inline -------------
 *      Modificado para el Proyecto PEI 2012000190 
 *                      Tatu Hu
 */
(function($,window,document){function _getStandardTooltipsDiv(){if(!_standardTooltipsDiv){_standardTooltipsDiv=$('<div id="tooltips"></div>').appendTo(document.body)}return _standardTooltipsDiv}function _getOverTooltipsDiv(){if(!_overTooltipsDiv){_overTooltipsDiv=$('<div id="tooltips-over"></div>').appendTo(document.body)}return _overTooltipsDiv}function _isValidContent(e){return e instanceof jQuery||typeof e==="string"&&$.trim(e).length>0}function _parseContent(e,t){var n,r;if(_isValidContent(e)){return e}e=t.data("tooltip-content");if(_isValidContent(e)){return e}n=t.data("tooltip-title");if(n){return n.value}if(t[0].title&&$.trim(t[0].title).length>0){e=t[0].title;t[0].title="";t.data("tooltip-title",{value:e,element:t[0]});return e}r=t.children();if(r.length===1&&r[0].title&&$.trim(r[0].title).length>0){e=r[0].title;r[0].title="";t.data("tooltip-title",{value:e,element:r[0]});return e}return false}function _restoreTitle(e){var t=e.data("tooltip-title");if(t){t.element.title=t.value;e.removeData("tooltip-title")}}var win=$(window),doc=$(document),exclusive=false;var _standardTooltipsDiv=false;var _overTooltipsDiv=false;$.fn.tooltip=function(content,options){var globalSettings=$.extend({},$.fn.tooltip.defaults,options),noOptions=false;if(typeof content==="object"&&!(content instanceof jQuery)){options=content;content=""}if(!options||typeof options!=="object"){noOptions=true;options={}}this.each(function(i){var target=$(this),replacement=target.data("replaced"),inlineOptions=target.data("tooltip-options")||(replacement?replacement.data("tooltip-options")||{}:{}),awaiting=target.data("tooltip-awaiting"),onMouseleave,onBlur,onClick;if(!$.isReady||!options.ignoreDelay&&(options.delay>0||inlineOptions.delay>0)){var delay=inlineOptions.delay||options.delay||40,thisOptions=options,timeout,abort;content=_parseContent(content,target);if(awaiting){if(awaiting.abort()===false){return}if(noOptions){thisOptions=$.extend({},awaiting.options)}}if(thisOptions.removeOnMouseleave){onMouseleave=function(e){abort()};target.on("mouseleave",onMouseleave)}if(thisOptions.removeOnBlur){onBlur=function(e){abort()};doc.on("click touchend",onBlur)}abort=function(e,t){if(thisOptions.onAbort){if(settings.onAbort.call(tooltip[0],target)===false&&!e){return false}}clearTimeout(timeout);target.removeData("tooltip-awaiting");if(onMouseleave){target.off("mouseleave",onMouseleave)}if(onBlur){doc.off("click touchend",onBlur)}if(!t){_restoreTitle(target)}};target.data("tooltip-awaiting",{options:thisOptions,abort:abort});timeout=setTimeout(function(){abort(false,true);target.tooltip(content,$.extend(thisOptions,{ignoreDelay:true}))},delay)}else{var previous=target.data("tooltip"),previousSettings={},skipAnimation=false,awaitingOptions={},settings,div,tooltip,arrow,optionHolder,dom,domHidden=false,placeholder,noPointerEvents,arrowOffset,animValues,removeAnimValues,updatePosition,removeTooltip,endRemove;if(previous){if(previous.settings.lock){return}if(previous.removeTooltip(false,true)===false){return}if(noOptions){previousSettings=previous.settings}skipAnimation=true}if(awaiting){if(awaiting.options.lock){return}if(awaiting.abort()===false){return}if(noOptions){awaitingOptions=awaiting.options}}if(!options.position&&!previousSettings.position&&!awaitingOptions.position){optionHolder=target.closest(".tooltip-top, .tooltip-right, .tooltip-bottom, .tooltip-left");if(optionHolder.length>0){awaitingOptions.position=/tooltip-(top|right|bottom|left)/.exec(optionHolder[0].className)[1]}}settings=$.extend({},globalSettings,inlineOptions,previousSettings,awaitingOptions);if(typeof content==="function"){content=content.apply(this)}content=_parseContent(content,target);if(content===false){return}if(content instanceof jQuery){dom=content;content=""}div=target.closest(".notification, .modal").length>0?_getOverTooltipsDiv():_getStandardTooltipsDiv();animateDistance=settings.animate&&!skipAnimation?settings.animateMove:0;if(settings.exclusive&&exclusive){if(exclusive.removeTooltip(false,true)===false){return}}noPointerEvents=settings.noPointerEvents?" no-pointer-events":"";tooltip=$('<div class="message '+settings.classes.join(" ")+noPointerEvents+'">'+content+"</div>").appendTo(div).data("tooltip-target",target);if(dom){if(!dom.is(":visible")){domHidden=true;dom.show()}if(dom.parent().length>0){placeholder=$('<span style="display:none"></span>').insertBefore(dom);dom.detach()}tooltip.append(dom)}switch(settings.position.toLowerCase()){case"right":arrow=$('<span class="block-arrow left"><span></span></span>').appendTo(tooltip);arrowOffset=arrow.parseCSSValue("margin-top");break;case"bottom":arrow=$('<span class="block-arrow top"><span></span></span>').appendTo(tooltip);arrowOffset=arrow.parseCSSValue("margin-left");break;case"left":arrow=$('<span class="block-arrow right"><span></span></span>').appendTo(tooltip);arrowOffset=arrow.parseCSSValue("margin-top");break;default:arrow=$('<span class="block-arrow"><span></span></span>').appendTo(tooltip);arrowOffset=arrow.parseCSSValue("margin-left");break}updatePosition=function(e){var t=e.offset(),n=e.outerWidth(),r=e.outerHeight(),i=tooltip.outerWidth(),s=tooltip.outerHeight(),o=$.template.viewportWidth,u=$.template.viewportHeight,a,f,l,c=0;switch(settings.position){case"right":a=t.top+Math.round(r/2)-Math.round(s/2);f=t.left+n+settings.spacing;if(f+i>o-settings.screenPadding){f=t.left-i-settings.spacing;animateDistance*=-1;arrow.removeClass("left").addClass("right")}else{arrow.removeClass("right").addClass("left")}if(a<settings.screenPadding+doc.scrollLeft()){l=settings.screenPadding-a;c=-Math.min(l,Math.round(s/2)-settings.arrowMargin);a+=l}else if(a+s>u-settings.screenPadding){l=u-settings.screenPadding-s-a;c=Math.min(-l,Math.round(s/2)-settings.arrowMargin);f+=l}f-=animateDistance;break;case"bottom":a=t.top+r+settings.spacing;f=t.left+Math.round(n/2)-Math.round(i/2);if(f<settings.screenPadding){l=settings.screenPadding-f;c=-Math.min(l,Math.round(i/2)-settings.arrowMargin);f+=l}else if(f+i>o-settings.screenPadding){l=o-settings.screenPadding-i-f;c=Math.min(-l,Math.round(i/2)-settings.arrowMargin);f+=l}if(a+s>u-settings.screenPadding+doc.scrollTop()){a=t.top-s-settings.spacing;animateDistance*=-1;arrow.removeClass("top").addClass("bottom")}else{arrow.removeClass("bottom").addClass("top")}a-=animateDistance;break;case"left":a=t.top+Math.round(r/2)-Math.round(s/2);f=t.left-i-settings.spacing;if(f<settings.screenPadding+doc.scrollLeft()){f=t.left+n+settings.spacing;animateDistance*=-1;arrow.removeClass("right").addClass("left")}else{arrow.removeClass("left").addClass("right")}if(a<settings.screenPadding){l=settings.screenPadding-a;c=-Math.min(l,Math.round(s/2)-settings.arrowMargin);a+=l}else if(a+s>u-settings.screenPadding){l=u-settings.screenPadding-s-a;c=Math.min(-l,Math.round(s/2)-settings.arrowMargin);f+=l}f+=animateDistance;break;default:a=t.top-s-settings.spacing;f=t.left+Math.round(n/2)-Math.round(i/2);if(f<settings.screenPadding){l=settings.screenPadding-f;c=-Math.min(l,Math.round(i/2)-settings.arrowMargin);f+=l}else if(f+i>o-settings.screenPadding){l=o-settings.screenPadding-i-f;c=Math.min(-l,Math.round(i/2)-settings.arrowMargin);f+=l}if(a<settings.screenPadding+doc.scrollTop()){a=t.top+r+settings.spacing;animateDistance*=-1;arrow.removeClass("bottom").addClass("top")}else{arrow.removeClass("top").addClass("bottom")}a+=animateDistance;break}tooltip.offset({top:a,left:f});if(settings.position==="left"||settings.position==="right"){arrow.css("margin-top",c===0?"":arrowOffset+c+"px")}else{arrow.css("margin-left",c===0?"":arrowOffset+c+"px")}};tooltip.trackElement(target,updatePosition);if(settings.animate){animValues={opacity:1};removeAnimValues={opacity:0};if(animateDistance!=0){switch(settings.position){case"right":animValues.left="+="+animateDistance+"px";removeAnimValues.left="-="+animateDistance+"px";break;case"bottom":animValues.top="+="+animateDistance+"px";removeAnimValues.top="-="+animateDistance+"px";break;case"left":animValues.left="-="+animateDistance+"px";removeAnimValues.left="+="+animateDistance+"px";break;default:animValues.top="-="+animateDistance+"px";removeAnimValues.top="+="+animateDistance+"px";break}animateDistance=0}if(!skipAnimation){tooltip.css({opacity:0}).animate(animValues,settings.animateSpeed)}}removeTooltip=function(e,t){if(settings.onRemove){if(settings.onRemove.call(tooltip[0],target)===false&&!e){return false}}if(onMouseleave){target.off("mouseleave",onMouseleave)}if(onBlur){doc.off("click touchend",onBlur)}if(onClick){tooltip.off("click touchend",onClick)}target.removeData("tooltip");if(settings.exclusive){exclusive=false}if(settings.animate&&!t){tooltip.addClass("tooltip-removed").animate(removeAnimValues,settings.animateSpeed,endRemove)}else{endRemove()}return true};endRemove=function(){_restoreTitle(target);if(placeholder){dom.detach().insertAfter(placeholder);placeholder.remove()}if(domHidden){dom.hide()}tooltip.remove()};target.data("tooltip",{element:tooltip,settings:settings,updatePosition:updatePosition,removeTooltip:removeTooltip});if(settings.exclusive){exclusive={removeTooltip:removeTooltip,dom:dom}}if(settings.removeOnMouseleave){onMouseleave=function(e){removeTooltip()};target.on("mouseleave",onMouseleave)}if(settings.removeOnBlur){tooltip.on("click touchend",function(e){e.preventDefault()});onBlur=function(e){if(e.isDefaultPrevented()){return}removeTooltip()};doc.on("click touchend",onBlur)}if(settings.removeOnClick&&!settings.noPointerEvents){onClick=function(e){removeTooltip()};tooltip.on("click touchend",onClick)}if(settings.onShow){if(typeof settings.onShow==="string"&&typeof eval(settings.onShow)==="function"){settings.onShow=eval(settings.onShow)}settings.onShow.call(tooltip[0],target)}}});return this};$.fn.removeTooltip=function(e,t){this.each(function(n){var r=$(this),i=r.data("tooltip"),s=r.data("tooltip-awaiting"),o;if(i){if(i.removeTooltip(e,t)===false){return}}if(s){if(s.abort(e)===false){return}}});return this};$.fn.menuTooltip=function(e,t,n){n=n||"click";this.on(n,function(n){n.preventDefault();n.stopPropagation();$(this).tooltip(e,$.extend({lock:true,exclusive:true,removeOnBlur:true,noPointerEvents:false},t))})};$.fn.tooltip.defaults={position:"top",spacing:10,classes:[],noPointerEvents:true,lock:false,exclusive:false,animate:true,animateMove:10,animateSpeed:"fast",delay:0,screenPadding:10,arrowMargin:10,removeOnMouseleave:false,removeOnBlur:false,removeOnClick:false,onShow:null,onRemove:null,onAbort:null};if(!Modernizr||!Modernizr.touch){doc.on("mouseenter",".with-tooltip, .children-tooltip > *",function(e){var t=$(this),n=t.parent(),r={delay:100,removeOnMouseleave:true};if(n.hasClass("children-tooltip")){r=$.extend(r,n.data("tooltip-options"))}t.tooltip(r)})}})(jQuery,window,document)